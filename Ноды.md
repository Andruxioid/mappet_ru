Система нодов это способная на многое механика, которая используется событямиNode system is a powerful feature that is used by [events](./Events), [dialogues](./Dialogues) and [quest chains](./Quest-chains) features to represent complex relationship between nodes.

Here is an example of an event that represent a very primitive **dirt or diamonds** lootbox system:

![Lootbox](https://i.imgur.com/E6IKVPI.png)

## Начало работы

### Добавлени и удаление нодов

Let's say you created a new event called `new` in the event editor. The first step to start working with nodes is to either right click on the editor and add a single node of your choice, or press one of the Ctrl + *Number* keybind to add a node (see available node adding keybinds in `F9` menu).

![Добавить нод](https://i.imgur.com/A5iJmJf.png)

Once the node was added it will be selected, and you can edit its fields in the bottom left corner of the node editor. Now, create a couple of more nodes, like 5 of them. Once you're comfortable with creation of nodes, try removing a node. To remove a node, click on it, then right click anywhere and click on ➖ **Remove selected nodes** context menu item.

### Выбор, привязка и отвязка нодов

Отлично, теперь у вас есть собственно ноды. Главной механиков нодов является возможность привязывать их к другим нодам. Чтобы связать два нода, сперва выделите (кликом) нод ввода, в который будет поступать ифнормация от нода вывода, как правило вводным является нижний нод, а потом добавьте верхний нод вывода (кликнув по ноду с зажатой клавишей Шифт). Также, вы можете выбрать несколько модов сразу посредством зажатия кнопки мыши вместе с клавишей Шифт:

![Box selection](https://i.imgur.com/MTtUI8j.png)

Как только вы выбрали два нода, удостовертесь, что у верхнего нода каёмка синего цвета светлее, чем у нижнего нода и если это не так, то зажмите Шифт и кликните по нему снова, либо же нажмите кнопку `F` дабы их соединить, или же кликните правой кнопкой мыши и нажмите на **Привязать выбранные**. Таким образом, ноды привяжутся друг к другу:

![Соединённые ноды](https://i.imgur.com/R8UmQHs.png)

Замечательно! Как вы можете видеть основываясь на анимации потока соединения нода, нижний нод является нодом ввода, так как поток в анимации идёт по направлению к ноду ввода, в то время как верхний нод является нодом вывода. Если вы хотите отвязать эти два нода друг от друга, то вам необходимо сперва выбрать нижний нод, а потом верхний и нажать на кнопку `U` дабы их отвзяать, или же кликните правой кнопкой мыши и нажмите на **Отвязать выбранные**.

**Примечание**: ноды можно привязывать друг к другу циклично, однако **к самому себе нод привязать нельзя**.

### Отмечание нода главным

В нодовых системах [событий](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%A1%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D1%8F.md) и [диалогов](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%94%D0%B8%D0%B0%D0%BB%D0%BE%D0%B3%D0%B8.md), вам необходимо указывать главный нод, то есть мод, с которого начинается весь процесс исполнения. Чтобы отметить нод как главный, просто выберите нод (кликом) и нажмите английскую `M` на клавиатуре. Это отметит выбранный вами нод в качестве главного, в результате чего над ним появится стрелочка ,указывающая вниз:

![Главный нод](https://i.imgur.com/ycAr4CK.png)

Фракции описывают взаимоотношения между [NPC](https://github.com/Andruxioid/mappet_ru/blob/main/NPC.md) и игроками, ииспользуя три типа отношения: враждебность, нейтралитет и дружелюбие. Фракции могут быть использованы дабы настроить враждебность NPC по отношению к игроку или другим [NPC](https://github.com/Andruxioid/mappet_ru/blob/main/NPC.md), или даже к обычным мобам. 
 
Вы можете создавать игроку как врагов, так и союзников. На самом деле, система фракций это, по сути, та же система [состояний игроков](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%A1%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F.md), которые сохраняются используя паттерн `factions.FACTION_ID`. Вы можете воздействовать на фракции, пользуясь [командой](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B.md#%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D1%84%D1%80%D0%B0%D0%BA%D1%86%D0%B8%D0%B9) `/mp faction`, или проверить очки фракции используя [функции выражений фракций](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%92%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F.md#%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8-%D1%84%D1%80%D0%B0%D0%BA%D1%86%D0%B8%D0%B9).
 
Управлять фракциями можно на [Главной панели Маппета](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F%20%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C%20%D0%9C%D0%B0%D0%BF%D0%BF%D0%B5%D1%82%D0%B0.md). Седьмая панель в левом боковом меню открывает радктор фракций.
 
## Редактирование
 
Когда вы создадите или выберете фракцию, перед вами откроется вот такой редактор:
 
![Редактор фракций](https://i.imgur.com/B9LCV16.png)
 
### Название фракции и отображаемый цвет
 
Эти два поля позволяют вам настраивать These two fields allow you to customize faction title's appearance in the player journal. In these case with `lawyers` faction, it would look like this: 
 
![Фракция юристов](https://i.imgur.com/GP6fnyX.png)
 
### Видимое выражение
 
Видимое [выражение](./Выражения.md) позволяет вам настроить видимость фракции в журнале игрока. Если оно пусто или не равняется нулю, то фракция будет видимой в журнале.
 
### Очки по умолчанию
 
Очки по умолчанию определяют сколько собственно очков заданной фракции получает по умолчанию игрок при первом взаимодействии с фракцией score determines what is the default score of the faction does player receive when it first time interacts with the faction (i.e. when the faction score is updated using `/mp faction add` [command](./Commands#mp-faction-add-target-id-score)). That is its only use.
 
### Default attitudes
 
**Default attitude** allows you to change the default attitude of [NPCs](./NPCs) toward other mobs excluding players, while **Default attitude toward players** allows you to change the default attitude of [NPCs](./NPCs) toward players.
 
### Relations
 
Relations allow you setting up attitudes among [NPCs](./NPCs) with different factions. You can add a relation to other faction using by clicking on the ➕ icon from the right of the **Relations** label. It will open an overlay where you would be able to pick other factions, but only if there are other factions to choose from.
 
Once the relation to other faction was added, you can toggle the attitude. To remove an attitude toward other faction, simply right click on the faction's label, and click ➖ **Remove this relation**.
 
### Its own relationship
 
By clicking **Configure its own relation...** button, an overlay will popup. There you can edit the relation ship for the player depending on the threshold scores. 
 
You can create new thresholds by right clicking on the left part of the overlay under **Faction relation editor** title. There you can also remove currently selected relation threshold. You can also sort the position of threshold by **drag-and-dropping** them in the list.
 
Every threshold has title, color, score and attitude options, which should be self explanatory by now. These values will be used to display the progress of the faction progression in the player's journal, as well as determining which attitude do NPCs of the same faction as a player have.
 
The way it works is that every threshold's score provides the highest score, meaning player's faction score **BELOW** (less than, this doesn't affect the highest threshold in the list) a threshold's score will determine the final attitude. Consider following threshold setup:
 
![Thresholds](https://i.imgur.com/FQyQ5EA.png)
 
Here would be the results of picking different faction scores:
 
|Player's faction score|Resulted faction|Resulted attitude|
| -------------------- | -------------- | --------------- |
|`-10`|ЗЛО!|Враждебность|
|`0`|Hostile|Враждебность|
|`99`|Hostile|Враждебность|
|`100`|Neutral|Нейтральные|
|`199`|Neutral|Нейтралитет|
|`200`|Good|Дружелюбие|
|`499`|Good|Дружелюбие|
|`500`|Друг|Дружелюбие|
|`5000`|Друг|Дружелюбие|
|`>1000000`|Друг|Дружелюбие|
 
К счастью, эта таблица корректно отображает систему порога. Можно также иметь и не одну систему порога. В таком случае, 2 порога это абсолютный минимум, 3 - оптимальное количество, а вот 4 и выше это уже больше для красоты.
 
### Описание отношений
 
Вот список отношений фракций и что они делают:
 
* `Враждебность` атакует сущность-цель
* `Нейтралитет` игнорирует всех и каждого
* `Дружелюбие` (ещё не используется) невосприимчив к урону, наносимому союзником: защищает союзников

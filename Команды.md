Маппет имеет в себе целое множество команд, позволяющих работать с собственными механиками. Эта страница приводит список всех доступных команд в моде. Основной командой выступает `/mp`, от которой отходят подкоманды для работы с определёнными механиками.

## Команды состояний

Команда `/mp state` имеет в себе подкоманды, позволяющие модифицировать [состояния](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%A1%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F.md). Аргумент цели `<target>` может быть либо селектором цели, который указывает на определённого игрока (также это может быть имя пользователя или UUID), либо `~`, которая означает глобальный состояния сервера.

### `/mp state add <target> <id> <expression>`

Добавляет какое-либо значение к состоянию с ID `<id>`.

### `/mp state clear <target> <id>`

Удаляет состояние с ID `<id>` из системы.

### `/mp state if <target> <id> <expression>`

Проверяет является ли состояние с ID `<id>` равным выражению `<expression>`, если нет, то команда выдаст ошибку, во всех остальных случаях не случится ничего.

### `/mp state print <target>`

Выводит в чат все состояния, имеющиеся у цели `<target>`.

### `/mp state set <target> <id> <expression>`

Задаёт состоянию с ID `<id>` определённое значение.

### `/mp state sub <target> <id> <expression>`

Разделяет значение состояния с ID `<id>` на сколько-либо.

## Команды диалогов

Команда `/mp dialogue` имеет в себе подкоманды для работы с [диалогами](https://github.com/Andruxioid/mappet_ru/blob/main/Construction.md).

### `/mp dialogue open <target> <id> [subject_id]`

Открывает диалог с заданным ID `<id>` для игрока или игроков, найденных по селектору цели `<target>`. Аргумент `[subject_id]` позволяет сменить ID субъекта, используемый для цепочек квестов для раздачи и получения квестов.

## Команды крафта

Команда `/mp crafting` имеет в себе подкоманды для работы с [таблицами рецептов](https://github.com/Andruxioid/mappet_ru/blob/main/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-%D1%80%D0%B5%D1%86%D0%B5%D0%BF%D1%82%D0%BE%D0%B2.md):

### `/mp crafting open <target> <id>`

Открывает таблицу рецептов с заданным ID `<id>` игроку или игрокам, выделенным селектором `<target>`.

### `/mp crafting drop <id> [index] [x] [y] [z] [mx] [my] [mz]`

Выбрасывает в мир предмет с индексом `[index]` из таблицы рецептов с ID `<id>` в заданной точке по XYZ, поддерживается относительное смещение посредством `~`. Если аргумент `[index]` был пропущен или введён как `@r`, то будет выброшен случайный предмет. `[mx]`, `[my]` и `[mz]` можно также использовать для задания предмету или предметам изначальной скорости.

## Команды событий

Команда `/mp event` имеет подкоманды для работы с [событиями](https://github.com/Andruxioid/mappet_ru/blob/main/Construction.md):

### `/mp event trigger <target> <id> [data]`

Триггерит событие с ID `<id>` с дополнительным контекстом в виде игрока или игроков используя селектор цели `<target>`. Дополнительные данные NBT `[data]` также можно отправить на выполнение события.

## Команды квестов

Команда `/mp quest` имеет подкоманды для рабоыт с квестами [quests](https://github.com/Andruxioid/mappet_ru/blob/main/Construction.md):

### `/mp quest accept <target> <id>`

Силой принимает квест с ID `<id>` у игрока или игроков, найденных по селектору цели `<target>`.

### `/mp quest decline <target> <id>`

Силой отклоняет квест с ID `<id>` у игрока или игроков, найденных по селектору цели `<target>`.

### `/mp quest complete <target> <id>`

Силой завершает квест с  ID `<id>` у игрока или игроков, найденных по селектору цели`<target>`, вне зависимости от того насколько были выполнены цели квеста.

## Команды NPC

Команда `/mp npc` содержит подкоманды для работы с [NPC](https://github.com/Andruxioid/mappet_ru/blob/main/Construction.md):

### `/mp npc summon <id> [state] [x] [y] [z]`

Спавнит NPC с заданным состоянием `[state]` (если аргумент опущен, то будет NPC заспавнится с состоянием `default`), опционально на позиции (если опущена позиция по XYZ, то будет использовано текущее месторасположение отправителя команды).

### `/mp npc state <target> [state]`

Изменяет состояния NPC-сущностей, найденных по селектору цели `<target>`, с состоянием `[state]`. Аргумент состояния `[state]` может содержать особое примечание в форме `<state_name>:[properties...]`, что должно позволить возможность перезаписывать только определённые свойства NPC.

### `/mp npc set <target> <property> [data...]`

Изменяет определённое свойство `<property>` NPC-сущностей, найденных по селектору цели `<target>` с данными `[data...]`. Формат данных `[data...]` полностью основывается на заданном свойстве `<property>`.

## Команды фракций

Команда `/mp faction` имеет подкоманды для работы с [фракциями](https://github.com/Andruxioid/mappet_ru/blob/main/Construction.md):

### `/mp faction set <target> <id> <score>`

Задаёт количество очков фракции с ID `<id>` для игрока или игроков, найденных по селектору цели `<target>` с очками `<score>`.

### `/mp faction add <target> <id> <score>`

Добавляет очки `<score>` фракции с ID `<id>` игроку или игрокам, найденных по селектору цели `<target>`.

### `/mp faction clear <target> [id]`

Удаляет очки фракции(й) у игрока или игроков, найденных по селектору цели `<target>`. Если был уточнён аргумент `[id]`, то удалятся очки только указанной фракции, если же аргумент `[id]` был опущен, то удалятся очки вообще всех фракций.

## Команды данных

`/mp data` это команда для удобства, позволяющая загружать и сохранять состояния игроков для последующей отладки.

### `/mp data clear`

Сбрасывает все данные всего прохождения. Состояния будут полностью сброшены, будут сброшены также квесты и инвентари всех игроков.

### `/mp data save <preset>`

Сохраняет текущие состояния вместе с инвентарём и квестами игрока.

### `/mp data load <preset> [global] [player]`

Загружает сохранённые состояния и применяет сохранённые квест с инвентарём на заданного игрока `[player]` (есди аргумент `[player]` был пропущён, то команда будет использована на исполнившем её игроке). Аргумент `[global]` позволяет указать необходимо ли также обновлять состояния сервера на сохранённые в файле состояния; по умолчанию включён.
